<!doctype html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<title>Map view with mapbox</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" href="css/style.min.css?_v=20250722203918" />
	<link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css?_v=20250722203918" rel="stylesheet" />
</head>

<body>
	<div class="wrapper map-view">
		<header class="header" data-lp data-scroll="100">
			<div class="header__cnt">
				<a href="#" class="header__logo">
					<picture>
						<source srcset="img/mobile-logo.svg" media="(max-width: 991.98px)" />
						<source srcset="img/logo-desk.svg" media="(min-width: 991.99px)" />
						<img src="img/mobile-logo.svg" alt="Опис зображення" />
					</picture>
				</a>
				<div class="header__menu menu">
					<nav class="menu__mobile-top">
						<ul class="menu__list">
							<li class="menu__item">
								<a href="tel:+97145409916" class="menu__link menu__link--number">
									<i class="_icon-iphone"></i><span>+971 4 540 9916</span>
								</a>
							</li>
							<li class="menu__item">
								<a href="@" class="menu__link">
									<i class="_icon-what-sec"></i>
								</a>
							</li>
							<li class="menu__item">
								<a href="@" class="menu__link menu__link--fav">
									<i class="_icon-fav-sec"></i>
								</a>
							</li>
						</ul>
					</nav>
					<button type="button" class="menu__icon icon-menu">
						<img src="img/menu-desk.svg" alt="burger icon" />
					</button>
				</div>
				<nav class="menu__mobile">
					<div class="menu__top">
						<ul class="menu__lang">
							<li>
								<i class="_icon-lang"></i>
							</li>
							<li><a href="#" class="active">En</a></li>
							<li><a href="#">Ru</a></li>
						</ul>
						<button type="button" class="menu__icon-close icon-menu">
							<img src="img/menu-mob.svg" alt="menu icon" />
						</button>
					</div>
					<div class="menu__mob-body">
						<div class="menu__links">
							<div class="menu__prop">
								<h2 class="menu__ttl">PROPERTIES</h2>
								<ul>
									<li><a href="#">Buy</a></li>
									<li><a href="#">Rent</a></li>
									<li><a href="#">Off Plan</a></li>
									<li><a href="#">Holiday Homes</a></li>
									<li><a href="#">Commercial</a></li>
									<li>
										<a href="#">Renovation Service</a>
									</li>
									<li>
										<a href="#">List Your Properties</a>
									</li>
								</ul>
							</div>
							<div class="menu__prop">
								<h2 class="menu__ttl">ABOUT</h2>
								<ul>
									<li><a href="#">Our Team</a></li>
									<li><a href="#">Blog</a></li>
									<li><a href="#">Contact Us</a></li>
								</ul>
							</div>
						</div>
						<ul class="menu__about">
							<li class="menu__sub-item">
								<h2 class="menu__ttl">Address</h2>
								<ul>
									<li>
										<address>
											Office 802, Marina Plaza, Dubai
											Marina, Dubai, UAE
										</address>
									</li>
								</ul>
							</li>
							<li class="menu__sub-item">
								<h2 class="menu__ttl">Phones</h2>
								<ul>
									<li>
										<a href="tel:+97145409916">+971 4 540 9916</a>
									</li>
									<li>
										<a href="tel:+971588180252">+971 58 818 0252</a>
									</li>
								</ul>
							</li>
							<li class="menu__sub-item">
								<h2 class="menu__ttl">Email</h2>
								<ul>
									<li>
										<a href="mailto:WiseView@com.ae">WiseView@com.ae</a>
									</li>
								</ul>
							</li>
							<li class="menu__sub-item">
								<h2 class="menu__ttl">Whatsapp</h2>
								<ul>
									<li><a href="#">+971 4 540 9916</a></li>
								</ul>
							</li>
						</ul>
						<div class="menu__social">
							<h2 class="menu__ttl">Follow Us</h2>
							<ul>
								<li>
									<a href="#" target="_blank" class="_icon-facebook"></a>
								</li>
								<li>
									<a href="#" target="_blank" class="_icon-instagram"></a>
								</li>
								<li>
									<a href="#" target="_blank" class="_icon-twitter"></a>
								</li>
								<li>
									<a href="#" target="_blank" class="_icon-linkedin"></a>
								</li>
							</ul>
						</div>
					</div>
				</nav>
			</div>
		</header>

		<main class="map">
			<h1 class="hidden">Map view</h1>
			<div class="map__container" id="map"></div>
			<section class="buy__main">
				<div class="buy__cnt">
					<form action="#" method="post" class="buy__filters filters" data-one-select>
						<div class="filters__line">
							<select name="typeBuild" data-class-modif="form" data-show-selected>
								<option value="Buy" selected>Buy</option>
								<option value="Rent">Rent</option>
							</select>
						</div>
						<div class="filters__input">
							<i class="_icon-location"></i>
							<input autocomplete="off" type="text" name="location" placeholder="Location, city, community" class="input" />
						</div>
						<div class="filters__line">
							<select name="propertyType" data-class-modif="form" data-show-selected>
								<option value="" selected>
									Property Type
								</option>
								<option value="Apartment">Apartment</option>
								<option value="Villa">Villa</option>
								<option value="Townhouse">Townhouse</option>
								<option value="Penthouse">Penthouse</option>
								<option value="Short Term">
									Short Term
								</option>
								<option value="Duplex">Duplex</option>
							</select>
						</div>
						<div class="filters__line-pr">
							<div class="filters__inp-wr">
								<input id="minPrice" autocomplete="off" type="text" name="minPrice" placeholder="Min Price" class="input" />
							</div>
						</div>
						<div class="filters__line-pr">
							<div class="filters__inp-wr">
								<input id="maxPrice" autocomplete="off" type="text" name="maxPrice" placeholder="Max Price" class="input" />
							</div>
						</div>
						<div class="filters__line">
							<select name="beds" data-class-modif="form" data-show-selected>
								<option value="" selected>Beds</option>
								<option value="All">All</option>
								<option value="Studio">Studio</option>
								<option value="1">1</option>
								<option value="2">2</option>
								<option value="3">3</option>
								<option value="4">4</option>
								<option value="5">5</option>
								<option value="6+">6+</option>
							</select>
						</div>
						<div class="filters__more">
							<button data-popup="#moreFilters" type="button" class="filters__button">
								More Filters
							</button>
						</div>
						<div class="filters__action">
							<button type="submit" class="filters__btn btn">
								Browse
							</button>
						</div>
					</form>
					<div class="buy__result">
						<div class="buy__body-actions">
							<button data-popup="#mobFilters" type="button" class="buy__filter-btn">
								Filter
							</button>
							<select name="sortFilter" data-class-modif="most-recent" data-show-selected>
								<option value="Most Recent" selected>
									Most Recent
								</option>
								<option value="Highest Price">
									Highest Price
								</option>
								<option value="Lowest Price">
									Lowest Price
								</option>
							</select>
						</div>
					</div>
					<!-- <div class="map__card">
                            <button
                                type="button"
                                class="map__btn-close"
                            ></button>
                            <div class="map__image">
                                <img
                                    src="img/cards/image_01.webp"
                                    alt="apartment image"
                                />
                            </div>
                            <div class="map__body">
                                <p class="map__listen">Listed on 24 May 2025</p>
                                <p class="map__price"></p>
                                <h2 class="map__ttl">
                                    2 BR Apartment Jumeirah Golf Estate
                                </h2>
                                <p class="map__location">
                                    Jumeirah Golf Estate, Dubai
                                </p>
                            </div>
                        </div> -->
				</div>
			</section>
		</main>
	</div>

	<script src="js/app.min.js?_v=20250722203918"></script>
	<script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js?_v=20250722203918"></script>
	<script>
		mapboxgl.accessToken =
			"pk.eyJ1IjoicGFzaGthLWRhIiwiYSI6ImNtZDk1emNlNTA0aGgya3BoYzR3c2hhOWkifQ.N9WbyPUNRkfbDz6Zub_dMQ"

		const map = new mapboxgl.Map({
			container: "map",
			style: "mapbox://styles/mapbox/streets-v12",
			center: [32, 49], // Центр карти
			zoom: 6,
		})

		const points = [{
				coords: [30.5234, 50.4501],
				src: "img/cards/image_01.webp",
				alt: "apartment image",
				title: "2 BR Apartment Jumeirah Golf Estate",
				price: "AED 85,000",
				listen: "Listed on 24 May 2025",
				location: "Jumeirah Golf Estate, Dubai",
			},
			{
				coords: [34.8044, 48.4647],
				src: "img/cards/image_01.webp",
				alt: "apartment image",
				title: "4 BR Apartment Jumeirah Golf Estate",
				price: "AED 850,000",
				listen: "Listed on 28 May 2026",
				location: "Jumeirah Golf Estate, Dubai 2",
			},
		]

		points.forEach((point) => {
			const popup = new mapboxgl.Popup().setHTML(`
                    <div class="map__card">
                        <button type="button" class="map__btn-close"></button>
                        <div class="map__image">
                            <img src="${point.src}" alt="${point.alt}" />
                        </div>
                        <div class="map__body">
                            <p class="map__listen">${point.listen}</p>
                            <p class="map__price">${point.price}</p>
                            <h2 class="map__ttl">${point.title}</h2>
                            <p class="map__location">${point.location}</p>
                        </div>
                    </div>
                `)

			const marker = new mapboxgl.Marker()
				.setLngLat(point.coords)
				.setPopup(popup)
				.addTo(map)

			popup.on("open", () => {
				const closeBtn = document.querySelector(".map__btn-close")
				if (closeBtn) {
					closeBtn.addEventListener("click", () => {
						popup.remove()
					})
				}
			})
		})
	</script>
</body>

</html>